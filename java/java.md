# java程序编写和执行的过程

java程序开发三步骤

1. 编写。将 Java代码编写写在.java结尾的源文件中
2. 编译。针对于.java结尾的源文件继续编译操作。格式：javac 源文件名.java
   - 编译以后，会生成1个或多个字节码文件。每一个字节码文件对应一个Java类，并且字节码文件名与类名相同
3. 运行。针对于编译后生成的字节码文件，进行解释运行。格式：java字节码文件名
   - 一个源文件中可以声明多个类。但是最多只能有一个类使用public进行声明且要求声明为public的类的类名与源文件名相同

```java
public class HelloJava{
	public static void main(String[] args){
		System.out.println("hello,world!!");
	}
}
class Hi{
    
}


其中：
    1、class：关键字，表示“类”，后面跟着类名
    2、main()方法的格式是固定的，表示程序的入口
       public static void main(String[] args)
    3、Java程序是严格区分大小写的
    4、从控制台输出数据的操作：
    	System.out.println()：输出数据之后，会换行
    	System.out.print()：输出数据之后，不会换行
    5、每一行执行语句必须以;结束
```



# 变量和数据类型

## 数据类型

基本数据类型

| 类型    | 说明         | 占用存储空间                                  |
| ------- | ------------ | --------------------------------------------- |
| byte    | 字节型       | <span style="color:red">1字节 = 8bit位</span> |
| short   | 短整型       | 2字节                                         |
| int     | 整型         | 4字节                                         |
| long    | 长整型       | 8字节                                         |
| float   | 单精度浮点型 | 4字节                                         |
| double  | 双精度浮点型 | 8字节                                         |
| char    | 字符型       | 2字节                                         |
| boolean | 布尔型       |                                               |

引用数据类型

| 类型       | 说明 |
| ---------- | ---- |
| class      | 类   |
| interface  | 接口 |
| [ ]        | 数组 |
| enum       | 枚举 |
| @interface | 注释 |
| record     | 记录 |

## 变量的声明和赋值

变量的数据类型可以是基本数据类型，也可以是引用数据类型

给变量赋值，就是把“值”存到该变量代表的内存空间中。同时，给变量赋的值类型必须与变量声明的类型一致或兼容

```java
public static void main(String[] args){
    /* 变量的声明 */
    int age;	 	// 存储一个整数类型的年龄
    double weight;	 // 存储一个小数类型的体重
    char gerner;	// 存储一个单字符类型的性别
    boolean marry;	// 存储一个布尔类型的婚姻状态
    String name;	// 存储一个字符串类型的姓名
    
    // 声明多个同类型的变量
    int a,b,c;	// 表示a,b,c三个变量都是int类型
    
    /*变量的赋值*/
    age = 18;	// 使用已经声明的变量赋值
    int num = 1;	// 变量声明的同时赋值
    
    /* 变量反复赋值 */
    int a = 1;
    a = 2; 	// 修改 a 变量的值
}
```

# 基本数据类型变量间运算规则

## 自动类型提升

将取值范围小（或容量小）的类型自动提升为取值范围大（或容量大）的类型

基本类型的转换规则

```java
char
byte	->	int	->	long	->	float	->	double
short
```



当把存储范围小的值（常量值、变量的值、表达式计算的结果值）赋值给了存储范围大的变量时

```java
int i = 'A';//char 自动升级为 int，其实就是把字符的编码值赋值给 i 变量了
double d = 10;//int 自动升级为 double
long num = 1234567; //右边的整数常量值如果在 int 范围呢，编译和运行都可以通过，这里涉及到数据类型转换

//byte bigB = 130;//错误，右边的整数常量值超过 byte 范围
long bigNum = 12345678912L;//右边的整数常量值如果超过 int 范围，必须加 L，显式表示 long 类型。否则编译不通过
```



当存储范围小的数据类型与存储范围大的数据类型变量一起混合运算时，会按照其中最大的类型运算

```java
int i = 1;
byte b = 1;
double d = 1.0;
double sum = i + b + d;//混合运算，升级为 double
```



当 byte，short，char 数据类型的变量进行算术运算时，按照 int 类型处理

```java
byte b1 = 1;
byte b2 = 2;
byte b3 = b1 + b2;//编译报错，b1 + b2 自动升级为 int
char c1 = '0';
char c2 = 'A';
int i = c1 + c2;//至少需要使用 int 类型来接收
System.out.println(c1 + c2);//113
```



## 强制类型转换

转换格式

```
数据类型 变量名 = (数据类型)被强转数据值;	// ()钟的数据类型必须 <= 变量值的数据类型
```

当把存储范围大的值（常量值、变量的值、表达式计算的结果值）强制转换为存储范围小的变量时，可能会损失精度溢出

```java
int i = (int)3.14;	// 损失精度

doble d = 1.2;
int num = (int)d;	// 损失精度

int i = 200;
byte b = (byte)i;	// 溢出
```

某个值想要提升数据类型时，也可以使用强制类型转换。这种情况的强制类型转换是*没有风险*的，通常省略

```java
int i = 1;
int j = 2;
double bigger = (double)(i/j);
```

声明 long 类型变量时，可以出现省略后缀的情况。float 则不同

```java
long l1 = 123L;
long l2 = 123;	// int类型的 123 自动提升为long 类型

// long l3 = 123123123123;	// 报错，因为 123123123123 超出了int的范围
long l4 = 123123123123L;


// float f1 = 12.3;	// 报错，因为 12.3 看做是double，不能自动转换为 float 类型
float f2 = 12.3F;
float f3 = (float)12.3;
```



## 基本数据类型与 String 的运算

任意基本数据类型的数据与 String 类型只能进行连接 "+" 运算，且结果一定也是 String 类型

```java
System.out.println("" + 1 + 2);		// 12

int num = 10;
boolean b = true;
String s1 = "abc";

String s2 = s1 + num + b;	// 注意顺序，int类型不能与boolean运算
System.out.println(s2);		// abc10true
```

String 类型不能通过强制类型 () 转换，转为其他的类型

```java
String str = "123";
int num = (int)str;		// 报错

int num = Ihteger.parseInt(str);	// 借助包装类的方法转换
```



# 运算符

## 算术运算符

| 运算符 | 运算                                                         |
| ------ | ------------------------------------------------------------ |
| +      | 正号，加法，字符串拼接                                       |
| -      | 符号，减法                                                   |
| *      | 乘法                                                         |
| /      | 除法                                                         |
| %      | 取模（取余）                                                 |
| ++     | 前置（后置）递增：<br>（前）：先自增，后取值<br>（后）：先取值，后自增 |
| --     | 前置（后置）递减：<br>（前）：先自减，后取值<br>（后）：先取值，后自减 |



## 赋值运算符

| 运算符 | 说明                                   |
| ------ | -------------------------------------- |
| +=     | 两边的值进行相加，结果赋值给左边的变量 |
| -=     | 两边的值进行相减，结果赋值给左边的变量 |
| *=     | 两边的值进行相乘，结果赋值给左边的变量 |
| /=     | 两边的值进行相除，结果赋值给左边的变量 |
| %=     | 两边的值进行取余，结果赋值给左边的变量 |



## 比较运算符

| 运算符     | 说明               |
| ---------- | ------------------ |
| ==         | 相等于             |
| !=         | 不等于             |
| <          | 小于               |
| >          | 大于               |
| <=         | 小于等于           |
| >=         | 大于等于           |
| instanceof | 检查是否是类的对象 |



## 三目运算符（条件运算符）

条件表达式为 true 时返回表达式1，为 false 时返回表达式2

```java
/* 条件表达式 ? 表达式1 : 表达式2 */

int a = 10;
int b = 20;
int n = a > b ? "yes" : "no";
System.out.println(n);	// no
```



## 逻辑运算符

| 运算符      | 说明                                                    |
| ----------- | ------------------------------------------------------- |
| & 和 &&     | 表示 “且” ，全为 true 则为 true，否则为 false           |
| \| 和  \|\| | 表示 “或”，有一个 true 则为 true，全为 false 则为 false |
| !           | 表示 “非”，取反，true 变 false，false 变 true           |
| ^           | 当两边布尔值不同时，结果为 true，相同时为 false         |

 `&` 和 `&&`的区别

- `&`：如果符号左边为 false ，则**继续**执行符号右边的操作
- `&&` ：如果符号左边为 false ，则**不再继续**执行符号右边的操作

`|` 和 `||` 的区别

- `|` ：如果符号左边为 true，则**继续**执行符号右边的操作
- `||` ：如果符号左边为 true ，则**不再继续**执行符号右边的操作

```java

/* | */
int x1 = 1, y1 = 1;
System.out.println(++x1 == 2 | ++y1 == 2);  // true
System.out.println(x1);  // 2
System.out.println(y1);  // 2

/* || */
int x2 = 1, y2 = 1;
System.out.println(++x2 == 2 || ++y2 == 2);	//true
System.out.println(x2);  // 2
System.out.println(y2);  // 1

/* & */
int a1 = 1, b1 = 1;
System.out.println(a1 == 2 & ++b1 == 2);	// false
System.out.println(a1);	// 1
System.out.println(b1);	// 2

/* && */
int a2 = 1, b2 = 1;
System.out.println(a2 == 2 && ++b2 == 2);	// false
System.out.println(a2);	// 1
System.out.println(b2);	// 1

/* ! */
System.out.println(!true);	// false

/* ^ */
int n1 = 10, n2 = 10, n3 = 20;
System.out.println((n1 == n2) ^ (n1 > n3));	// true
System.out.println((n1 == n2) ^ (n1 < n3));	// false
System.out.println((n1 > n2) ^ (n1 > n3));	// false
```



## 位运算符

位运算符的运算过程基于二进制的补码运算

| 运算符 | 作用       | 说明                                                         |
| ------ | ---------- | ------------------------------------------------------------ |
| <<     | 左移       | 左边被移除的高位丢弃，右边空缺位补 0<br/>在一定范围内，数据每向左移动一位，相当于原数据 `*2`（正负数都适用）<br/>如 `3<<4`，那么 3\*2 的 4次幂 ，3 \* 16 = 48 |
| >>     | 右移       | 正数右移后，空缺位补0。负数右移后，空缺位补1<br/>在一定范围内，数据每右移动一位，相当于原数据 `/ 2`（正负数都适用）<br/><span style="color:red">如果不能整除，向下取整</span><br/>如 `69>>4`，那么 69 / 2 的 4次，69 / 16 = 4 |
| >>>    | 无符号右移 | 右移后，左边被移位二进制最高无论是 0 或者是 1，空缺位都补 0（正负数都适用） |
| &      | 与         | 对应位只有 `1 & 1` 时结果是 1， 否则是 0<br/>如 `0000 0001 & 0000 0011`，结果为· `0000 0001` |
| \|     | 或         | 对应位只有 `0 | 0` 时结果时 0， 否则是 1<br/>如 `0000 0001 | 0000 0011`，结果为 `0000 0011` |
| ^      | 异或       | 对应位只有`1 ^ 0 ` 时结果为 1，否则为 0<br/>如 `0000 0001 ^ 0000 0011`，结果为 `0000 0010` |
| ~      | 取反       | 对应位为 1，则结果为 0；对应位为 0，则结果为 1。<br/>正数取反，二进制码按补码各位取反<br/>负数取反，二进制码按补码各位取反 |



## 运算符优先级

上一行中的运算符总是优先于下一行

| 说明             | 运算符                     |
| ---------------- | -------------------------- |
| 括号             | `()、[]、{}`               |
| 正负号           | `+、-`                     |
| 单元运算符       | `++、--、~、!`             |
| 乘法、除法、求余 | `*、/、%`                  |
| 加法、减法       | `+、-`                     |
| 移位运算符       | `<<、>>、>>>`              |
| 关系运算符       | `<、<=、>=、>、instanceof` |
| 等价运算符       | `==、!=`                   |
| 按位与           | `&`                        |
| 按位异或         | `^`                        |
| 按位或           | `/`                        |
| 条件与           | `&&`                       |
| 条件或           | `//`                       |
| 三元运算符       | `? :`                      |
| 赋值运算符       | `=、+=、-=、*=、/=、%=`    |
| 位赋值运算符     | `&=、/=、<<=、>>=、>>>=`   |



# 流程控制语句

## 分支语句

### if-else 条件判断

**单分支条件判断**：条件表达式为 true 就执行语句块，如果为 false 则不执行

```java
if(条件表达式){
    语句块;
}
```



**双分支条件判断**：条件表达式为 true 就执行语句块1，如果为 false 则执行语句块2

```java
if(条件表达式){
    语句块1;
}else{
    语句块2;
}
```



**多分支条件判断**：从上往下依次判断，一旦条件表达式为 true，则执行相应的语句块，后面的条件表达式则不再进行判断，执行完对应的语句块，就跳出当前结构。如果前面条件表达式都为 false，则执行 else 语句

```java
if (条件表达式1) {
    语句块1;
}else if (条件表达式2) {
    语句块2;
}else{
    语句块n;
}
```



### switch-case 选择结构

1. 根据 `switch` 中表达式的值，依次匹配各个 `case` 。如果表达式的值等于某个 `case` 中的常量值，则执行对应 `case` 中的语句块
2. `switch`  中表达式的值的类型必须是其中之一：`byte`，`short`，`char`，`int`，枚举，`String`
3. `break` 语句用于执行完一个 `case` 后使程序跳出 `switch` 语句，如果没有 `break` ，程序会顺序执行到 `switch` 结尾（`case` 穿透性）
4. `default` 语句是可选的。当没有匹配的 `case` 时，执行 `default` 语句

```java
switch(表达式){
    case 常量值1:	// case子句中的值必须是常量，不能是变量或不确定表达式值或范围
        语句块1;
        //break;
    case 常量值2:
        语句块2;
        //break;
    case 常量值3:
        语句块3;
        //break;
    default:		// 如case在有break情况下，如果前面一个都没选，则执行默认语句
        语句块n;
        break;
}
```



## 循环语句

循环语句具有在某些条件满足的情况下，反复执行特定代码的功能

### for 循环

`for` 语句中必须有初始化，循环条件，结束条件

1. 初始化可以声明多个变量，但必须是同一类型，用逗号分隔
2. 循环条件为 `boolean` 类型表达式，当值为 false 时，退出循环
3. 可以有多个变量更新，用逗号分隔

```java
for(初始化; 循环条件; 迭代){
    循环体;
}
```

例如

```java
// 格式是多样的


for(int i = 0; i < 5; i++){
    System.out.println(i);	// 0 1 2 3 4
}


int n = 0;
for(; n < 5; n++){
    System.out.println(n);	// 0 1 2 3 4
}


int n = 1;
for(System.out.println("a");n < 5; System.out.println("b"), n++){
    System.out.println(n);	// a 1 b 2 b 3 b 4 b
}
```



### while 循环

`while`  循环条件必须是 `boolean` 类型，结构中必须要有结束条件，否则变成死循环

```java
while(循环条件){
    循环体;
    迭代;
}
```

例如

```java
int i = 1;
while(i <= 5){
    System.out.println(i);
    i++;
}
```



### do-while 循环

`do-while` 循环中至少会先执行一次循环体，后进入循环

```java
do{
    循环体;
    迭代;
}while(循环条件);
```



## 关键字 break 和 continue

### break

`break` 语句用于终止某个语句块的执行

在多层嵌套的语句块中时，`break` 可以通过标签指明要终止的语句（标签名任意）

```java
// break 跳出结构
for(int n = 0; n < 10; n++){
    if (n == 6){	// 当 n = 6 时跳出循环
        System.out.println(n);
        break;
    }
}

// 通过标签结束指定语句
label1:
for(int i = 0; i < 5; i++){
    label2:
    for(int j = 0; j < 5; j++){
        label3:{
            if(i + j == 4){
                System.out.println(i + j);
                break label1;	// 如 i + j = 4，结束label1标签的语句块
            }
            System.out.println("label3 block");
        }
```

