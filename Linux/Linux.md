# vim编辑器

1. 安装vim

   ```
   sudo apt install vim
   ```

2. 使用vim（在命令行下）

   ```
   vim 要编辑的文件名
   ```

3. 正常模式

   - 以 vim 打开一个档案就直接进入一般模式（默认的模式）。在这个模式中，可以使用【上下左右】按键来移动光标，可以使用【删除字符】或【删除整行】来处理档案内容，也可以使用【复制、粘贴】来处理文件数据

4. 编辑模式

   - 按下 i，I，o，O，a，A，r，R 等任何一个字母之后会进入编辑模式
   - 按 ESC 键可以回退到正常模式

5. 命令行模式

   - 按下ESC 键在输入 `: `或  `/` 在这个模式当中，可以提供相关指定，完成读取、存盘、替换、离开 vim、显示行号等的动作则是在此模式中达成的

     | 指令 | 说明             |
     | ---- | ---------------- |
     | :wq  | 保存退出         |
     | :q   | 退出             |
     | :q!  | 强制退出，不保存 |

6. v1和vim快捷键

   1. 拷贝当前行 yy，拷贝当前行向下的5行 5yy，并粘贴（输入p）

      1. 拷贝单个 y

   2. 删除当前行 dd，删除当前行向下的5行 5dd

   3. 在文件中查找某个单词【命令行下 `/关键字`，回车 查找，输入 n 就是查找下一个 】

   4. 设置文件的行号，取消文件的行号【命令行下 `:set nu` 和 `:set nonu`】

      > nu意思为number

   5. 如在编辑文件，在一般模式下，使用快捷键到该文档的最末行【G】和最首行【gg】

   6. 如在一个文件中输入“hello”想撤销，在一般模式下，输入 u 撤销这个动作

   7. 如在编辑文件，在一般模式下，并将光标移动到， 例如输入20 ，在输入 shift + g

   8. 更多看文档......

# 关机&重启命令

- 基本命令

  | 命令            | 说明                   |
  | --------------- | ---------------------- |
  | shutdown -h now | 立即进行关机           |
  | shutdown -h 1   | 1分钟后关机            |
  | shutdown -r now | 现在重新启动计算机     |
  | halt            | 关机                   |
  | reboot          | 现在重新启动计算机     |
  | sync            | 把内存的数据同步到磁盘 |

  - 注意
    - 不管是重启系统还是关闭系统，首先要运行 sync 命令，把内存中的数据写到磁盘中
    - 目前的 shutdown/reboot/halt 等命令均已经在关机前进行了 sync

# 用户登录和注销

1. 登录时尽量少用 root 账号登录，因为它是系统管理员，最大的权限，避免操作失误、可以利用普通用户登录，登录后在用“ `su - 用户名 `” 命令来切换成系统管理员身份
2. 在提示符输入 logout 即可注销用户
3. 使用细节
   1. logout 注销指令在图形运行级别无效，在 运行级别 3下有效

# 添加用户

- Linux系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统

- 基本语法

  ```
  useradd 用户名
  ```

- 细节说明

  - 当创建用户成功后，会自动的创建和用户同名的家目录
  - 也可以通过` uesradd -d 指定目录 新的用户名`，给新创建的用户指定家目录

- 指定/修改密码

  ```
  passwd 用户名
  ```

- 删除用户

  ```
  userdel 用户名
  ```

  - 删除用户，但是要保留目录 `userdel 用户名`
  - 删除用户以及用户主目录 `userdel -r 用户名`

# 文件目录类

- 指令

  | 指令    | 语法                                                         | 选项&操作&功能                                               | 说明                                                         |
  | ------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | pwd     | pwd                                                          |                                                              | 显示当前工作目录的绝对路径                                   |
  | ls      | ls [选项] [目录或是文件]                                     | -a：显示当前目录所有的文件和目录，包括隐藏的<br>-l：以列表的方式显示信息 | 显示当前指定目录                                             |
  | cd      | cd [参数]                                                    | cd ~ 或者 cd ：回到自己的家目录<br>cd .. 回到当前目录的上一级目录 | 切换到指定目录                                               |
  | mkdir   | mkdir [选项] 要创建的目录                                    | -p ：创建多级目录                                            | 用于创建目录（默认创建一级目录）                             |
  | rmdir   | rmdir 要删除的空目录                                         |                                                              | 默认只能删除空目录，如果目录下有内容无法删除的<br>rm -f 强制删除指令：将整个目录删除 |
  | touch   | touch 文件名称                                               |                                                              | 创建空文件                                                   |
  | cp      | cp [选项] 文件或目录 目录<br> \cp [选项] 文件或目录 目录     | -r ：递归复制整个文件夹                                      | 拷贝文件到指定目录<br/>如执行第二次拷贝，会进行覆盖。强制覆盖不提示的方法： \cp<br/> |
  | rm      | rm [选项] 要删除的文件或目录                                 | -r ：递归删除整个文件夹<br>-f ：强制删除不提示               | 移除文件或目录                                               |
  | mv      | 重命名：mv 旧文件名 新文件名<br>移动文件：mv /目录1/目录2/目录3 |                                                              | 用于重命名或移动文件                                         |
  | cat     | cat [选项] 要查看的文件                                      | -n ：显示行号                                                | 查看文件的内容<br>cat 只能浏览文件，而不能修改文件，为了浏览方便，一般会带上 管道命令 \| more |
  | more    | more 要查看的文件                                            | 操作及功能说明<br>**空格键**：向下翻一页<br>**Enter**：向下翻【一行】<br>**q**：立刻离开 more，不再显示该文件内容<br>**Ctrl+F**：向下滚动一屏<br>**Ctrl+B**：返回上一屏<br>**=**：输出当前行的行号<br>**:f** ：输出文件名和当前行的行号 | more指令是一个基于VI编辑器的文本过滤器，它以全屏幕的方式按页显示文本内容 |
  | less    | less 要查看的文件                                            | 操作及功能说明<br>**空格键**：向下翻动一页<br/>**[pagedown]**：向下翻一页<br/>**[pageup]**：向上翻动一页<br/>**/字串**：向下搜寻【字串】的功能；n：向下查找；N：向上查找<br>**?字串**：向上搜寻【字串】的功能；n：向上；N：向下查找<br>**q**：离开less这个程序 | less指令用来分屏查看文件内容，在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率 |
  | echo    | echo [选项] [输出内容]                                       |                                                              | 输出内容到控制台                                             |
  | head    | head 文件<br>head -n 行数 文件                               | head 默认查看文件头10行内容<br/>head -n  查看文件头指定行内容 | 查看文件头内容                                               |
  | tail    | tail 文件<br>tail -n 行数 文件<br>tail -f 文件               | tail查看文件尾10行内容<br/>tail -n 查看文件指定尾行内容<br/>tail -f 实时追踪该文档的所有更新 | 查看文件尾内容                                               |
  | > 和 >> | ls -l > 文件<br>ls -al >> 文件<br>cat 文件1 > 文件2<br>echo "内容" >> 文件 | 列表的内容写入指定文件中（覆盖写）<br>列表的内容追加到文件的末尾<br>将文件1的内容覆盖到文件2<br>追加 | 追加或覆盖文件内容                                           |
  | ln      | ln -s [原文件或目录] [软链接名]                              | 删除：rm [软链接名]                                          | 给原文件创建一个软链接<br>当使用pwd指令查看目录时，仍然看到的是软链接所在目录 |
  | history | history                                                      | history [n]：显示最近使用过的 n 个指令<br>!n：执行历史编号为 n 的指令 | 查看已经执行历史命令，也可以执行历史指令                     |